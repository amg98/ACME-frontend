  
<div class=container>
<div class= "info">
  <div>
    <h3 class="card-header">{{trip.title}}</h3>    
    
    <!-- boton atras -->
    <button (click)="goBack()" class="btn btn-primary" style="float: right; margin-right: 1em; margin-top: -48px;">
      {{'back'}}
    </button>
  </div>
  <!-- boton trips applications -->
  <div class="card-body" *ngIf="this.actorsService.checkRole('MANAGER') && this.actorsService.checkIsCurrentUser(trip.manager)">

    <a            
      [routerLink]="['/trips-applies/trip/' + trip._id, {'paramKey': 'manager'}]"
      class="btn btn-primary btn-application">
      {{'seeTripFromApplicationText'}}
    </a>

  </div>

  <div class="card-body">
    <h5 class="card-title The-explorer-4-hex">Ticker: {{trip.ticker}}</h5>
  </div>

  <div class="card-body">
    <h5 class="card-title The-explorer-4-hex">{{price}}: {{trip.price}}&euro;</h5>
  </div>

  <div class="card-body">
    <h6 class="card-title The-explorer-4-hex">{{trip.description}}</h6>
  </div>
  

  <div class="card-body">
    <div class="row text-center">
      <div class="col-md-6">
        <p class="The-explorer-3-hex mx-4 card">
          <span class="card-body">
            <i class="fa fa-calendar mr-2"></i>{{startDate}}:&nbsp;{{trip.startDate}}
          </span>
        </p>
      </div>
      <div class="col-md-6">
        <p class="The-explorer-3-hex mx-4 card">
          <span class="card-body">
            <i class="fa fa-calendar mr-2"></i>{{endDate}}:&nbsp;{{trip.endDate}}
          </span>
        </p>
      </div>
    </div>
  </div>

  <!-- etapas stages -->
  <div class="card-body">
    <div id="accordion">
      <div class="card">
        <div class="card-header" id="headingOne">
          <h5 class="mb-0">
            <button class="btn btn-link" data-toggle="collapse" data-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
              {{stages}}
            </button>
          </h5>
        </div>
    
        <div id="collapseOne" class="collapse" aria-labelledby="headingOne" data-parent="#accordion">
          <div class="card-body">
            <ul class="list-group list-group-flash">
              <li class="list-group-item" *ngFor="let stage of this.trip.stages; let i = index">
                
                <div id="accordionTwo">
        
                    <div class="" id="headingTwo">
                      <h5 class="mb-0">
                        <button class="btn btn-link" data-toggle="collapse" data-target="#collapseTwo" aria-expanded="true" aria-controls="collapseTwo">
                          {{stage.title}}
                        </button>
                      </h5>
                    </div>
                
                    <div id="collapseTwo" class="collapse" aria-labelledby="headingTwo" data-parent="#accordionTwo">
                      <div class="card-body">       
                            <p class="text-muted">{{stage.description}}</p>
                            <p class="The-explorer-2-hex">{{price}}: <span class="ml-1">{{stage.price}}&euro;</span></p>
                      </div>
                  </div>
                </div>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- requisitos -->
  <div class="card-body">
    <div id="accordionThree">
      <div class="card">
        <div class="card-header" id="headingThree">
          <h5 class="mb-0">
            <button class="btn btn-link" data-toggle="collapse" data-target="#collapseThree" aria-expanded="false" aria-controls="collapseThree">
              {{requeriments}}
            </button>
          </h5>
        </div>
    
        <div id="collapseThree" class="collapse" aria-labelledby="headingThree" data-parent="#accordionThree">
          <div class="card-body">
            <ul class="list-group list-group-flash">
              <li class="list-group-item" *ngFor="let requeriment of this.trip.requeriments; let i = index">
                <p>{{requeriment}}</p>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class= "pictures">
  <!-- pictures -->
  <div id="myCarousel" *ngIf="trip.pictures.length > 0" class="carousel slide" data-ride="carousel">

  <ol class="carousel-indicators">
    <div class="carousel-item">
      <li data-target="#myCarousel" data-slide-to="i+1" *ngFor="let picture of trip.pictures; let i = index" class="active"></li>
    </div>
  </ol>

  <!-- Wrapper for slides -->
  <div class="carousel-inner">
    <div *ngFor="let picture of trip.pictures; let i = index" class="carousel-item">
      <img class="d-block " src="{{getPicture(i)}}" alt="First slide">
    </div>
  </div>
  <img *ngIf="pictures.length === 0"
    class="card-img-top img-fluid" style="width: 200px; display: block;"
    src="https://i.ya-webdesign.com/images/image-not-available-png-3.png" alt="{{trip.title}}">

  <!-- Left and right controls -->
  <a class="left carousel-control" href="#myCarousel" data-slide="prev">
    <span class="glyphicon glyphicon-chevron-left"></span>
    <span class="sr-only">Previous</span>
  </a>
  <a class="right carousel-control" href="#myCarousel" data-slide="next">
    <span class="glyphicon glyphicon-chevron-right"></span>
    <span class="sr-only">Next</span>
  </a>
</div>
<!-- boton solicitar -->
<div class="btn-apply" *ngIf="this.actorsService.checkRole('EXPLORER')">
  <div *ngIf="trip != undefined"></div>
  <button (click)="onApply(trip._id!)" id="applybutton" class="btn btn-primary">
    {{'apply'}}
  </button>
</div> 
<br/>
</div>
</div>


  <!-- Sponsor 
  <div class="card-body">
    <h5 class="card-title The-explorer-4-hex">{{'sponsor.sponsors'}}</h5>
    <div id="carouselExampleControls2" *ngIf="this.sponsorships.length > 0" class="carousel slide" data-ride="carousel">
      <div class="carousel-inner">
        <div *ngFor="let sponsor of this.sponsorships; let i = index" class="carousel-item {{(i==0)? 'active':''}}">
          <img class="d-block " src="{{sponsor.banner}}" alt="First slide">
        </div>
      </div>
      <a class="carousel-control-prev" href="#carouselExampleControls2" role="button" data-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
      </a>
      <a class="carousel-control-next" href="#carouselExampleControls2" role="button" data-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
      </a>
    </div>
  </div>
</div> -->
</div> 
<br/>

<!-- Calling jquery first -->
<script language="JavaScript" type="text/javascript" src="scripts/jquery.js"></script>
<script language="JavaScript" type="text/javascript" src="scripts/bootstrap.min.js"></script>
  <!-- Carousel -->
<script language="JavaScript" type="text/javascript">
  $(document).ready(function(){
    $('.carousel').carousel({
      interval: 3000
    })
  });    
</script>  


